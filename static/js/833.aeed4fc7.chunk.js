"use strict";(self.webpackChunkreact_app=self.webpackChunkreact_app||[]).push([[833],{833:function(e,r,n){n.r(r);var s=n(9439),t=n(2791),i=n(8687),u=n(2421),c=n(7437),a=n(184),l=function(){var e=(0,i.I0)();return(0,t.useEffect)((function(){return e((0,u.WE)()),function(){e((0,u.R7)())}}),[e]),(0,a.jsxs)("div",{children:["error"===status&&(0,a.jsx)("div",{children:"Some error occurred. Please refresh page"}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{}),(0,a.jsx)(d,{isAuth:!0})]})]})},o=function(){var e=(0,t.useRef)(null),r=(0,i.v9)((function(e){return e.chat.messages})),n=(0,t.useState)(!1),u=(0,s.Z)(n,2),c=u[0],l=u[1];return(0,t.useEffect)((function(){var r;c&&(null===(r=e.current)||void 0===r||r.scrollIntoView({behavior:"smooth"}))}),[r]),(0,a.jsxs)("div",{style:{height:"500px",overflowY:"auto"},onScroll:function(e){var r=e.currentTarget;Math.abs(r.scrollHeight-r.scrollTop-r.clientHeight)<300?!c&&l(!0):c&&l(!1)},children:[r.map((function(e,r){return(0,a.jsx)(h,{message:e},r)})),(0,a.jsx)("div",{ref:e})]})},h=t.memo((function(e){var r=e.message;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)("img",{alt:"user photo",src:r.photo}),(0,a.jsx)("b",{style:{marginLeft:"10px"},children:r.userName})]}),r.message,(0,a.jsx)("hr",{})]})})),d=function(e){var r=e.isAuth,n=(0,i.I0)(),c=(0,t.useState)(""),l=(0,s.Z)(c,2),o=l[0],h=l[1],d=(0,i.v9)((function(e){return e.chat.status}));return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("textarea",{onChange:function(e){return h(e.currentTarget.value)},value:o})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{disabled:"ready"!==d,onClick:function(){o&&(n((0,u.bG)(o)),h(""))},children:"Send"})}),r?"":(0,a.jsx)("h1",{children:(0,a.jsx)("b",{children:"'Chat works only for login users!'"})})]})};r.default=function(){var e=(0,i.v9)(c.J);return(0,a.jsx)("div",{children:e?(0,a.jsx)(l,{}):(0,a.jsx)(d,{isAuth:e})})}}}]);
//# sourceMappingURL=833.aeed4fc7.chunk.js.map